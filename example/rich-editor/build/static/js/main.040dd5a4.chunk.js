(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t){e.exports=n(129)},function(e,t){e.exports=n(366)},function(e,t){e.exports=n(367)},function(e,t){e.exports=n(368)},function(e,t){e.exports=n(370)},function(e,t){e.exports=n(372)},function(e,t){e.exports=n(40)},function(e,t){e.exports=n(194)},function(e,t){e.exports=n(465)},function(e,t){e.exports=n(467)},function(e,t){e.exports=n(471)},function(e,t){e.exports=n(221)},function(e,t){e.exports=n(472)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(9),a=n.n(o),c=n(1),u=n.n(c),l=n(2),s=n.n(l),f=n(3),y=n.n(f),h=n(0),g=n.n(h),p=n(4),d=n.n(p),m=n(6),v=n.n(m),k=n(5),b=(n(13),function(e){function t(e){var n;u()(this,t),n=y()(this,g()(t).call(this,e));var r=e.onChange,i=e.plugin,o=e.editorState;n.editor=v.a.createRef(),n.getEditorState=function(){return n.props.editorState},n.applyChange=function(e){r(e)},Object.keys(i).forEach(function(e){"init"in i[e]&&i[e].init(n.getEditorState,n.applyChange)});var c=o.getDecorator()?o.getDecorator()._decorators:[],l=new k.CompositeDecorator(a()(c).concat(a()(n.getDecorator())));return n.applyChange(k.EditorState.set(n.getEditorState(),{decorator:l})),n}return d()(t,e),s()(t,[{key:"getDecorator",value:function(){var e=this.props.plugin,t=[];return Object.keys(e).forEach(function(n){"decorator"in e[n]&&t.push(e[n].decorator)}),t}},{key:"getCustomStyleMap",value:function(){var e=this.props.plugin,t={};return Object.keys(e).forEach(function(n){"customStyleMap"in e[n]&&(t=i()({},t,e[n].customStyleMap))}),t}},{key:"getHtml",value:function(){if(!this.editor||!this.editor.current||!this.editor.current.editor)return"\u8bf7\u5148\u5b9e\u4f8b\u5316\u7ec4\u4ef6\u5728\u8c03\u7528\uff0c\u6216\u662f\u653e\u5728 setTimeout \u4e2d\u4f7f\u7528";var e=this.editor.current.editor.children[0].innerHTML.replace(/\s?data-(block|editor|offset|contents|text)(-\w*)?="[-\w]*"/gi,"");return e=(e=e.replace(/("\s*)|(\s*")/gi,'"')).replace(/\sclass=""/gi,"")}},{key:"focus",value:function(){this.editor.current.focus()}},{key:"blockStyleFn",value:function(e){var t=this.props.plugin,n="";return Object.keys(t).forEach(function(r){"blockStyleFn"in t[r]&&(n="".concat(t[r].blockStyleFn(e)," ").concat(n))}),n}},{key:"blockRendererFn",value:function(e){var t,n=this.props.plugin;return Object.keys(n).forEach(function(r){"blockRendererFn"in n[r]&&(t=n[r].blockRendererFn(e)||t)}),t}},{key:"keyBindingFn",value:function(e){var t=this.props.plugin;return Object.keys(t).forEach(function(n){"keyBindingFn"in t[n]&&t[n].keyBindingFn(e)}),Object(k.getDefaultKeyBinding)(e)}},{key:"handleKeyCommand",value:function(e,t){var n=k.RichUtils.handleKeyCommand(t,e);return!!n&&(this.applyChange(n),!0)}},{key:"render",value:function(){var e=this,t=this.getCustomStyleMap(),n=this.props,r=n.editorState,i=n.onChange,o=n.className,a=n.placeholder,c=void 0===a?"Tell a story...":a;return v.a.createElement("div",{className:"RichEditor-editor ".concat(o)},v.a.createElement(k.Editor,{placeholder:c,customStyleMap:t,handleKeyCommand:function(){return e.handleKeyCommand.apply(e,arguments)},keyBindingFn:function(t){return e.keyBindingFn(t)},blockStyleFn:function(t){return e.blockStyleFn(t)},blockRendererFn:function(t){return e.blockRendererFn(t)},editorState:r,onChange:i,ref:this.editor}))}}]),t}(v.a.Component)),E=n(11),S=n.n(E),C=function(){function e(){u()(this,e),this.queue=[],this.isFire=!1,this.callBack=function(){console.log("\u8bf7\u4e3a\u961f\u5217\u8bbe\u7f6e\u6267\u884c\u56de\u8c03")},this.getInitValue=function(){console.log("\u8bf7\u4e3a\u961f\u5217\u8bbe\u7f6e\u83b7\u53d6\u521d\u59cb\u503c\u7684\u51fd\u6570")}}return s()(e,[{key:"add",value:function(e){this.queue.push(e)}},{key:"setCallBack",value:function(e){this.callBack=e}},{key:"setGetInit",value:function(e){this.getInitValue=e}},{key:"fire",value:function(){var e=this;this.isFire||(this.isFire=!0,setTimeout(function(){e.isFire=!1,e.callBack(e.reduce(e.getInitValue())),e.clear()}))}},{key:"reduce",value:function(e){return this.queue.reduce(function(e,t){return t(e)},e)}},{key:"clear",value:function(){this.queue=[]}}]),e}();function w(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getData()}function M(e,t){var n=k.Modifier.setBlockData(e.getCurrentContent(),e.getSelection(),t);return k.EditorState.push(e,n,"change-block-data")}function T(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()}function x(e,t,n,r){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&n.getEntity(t).getType()===r},t)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getCurrentContent(),r=e.getSelection(),i=r.getEndKey(),o=r.getEndOffset();return n.getBlockForKey(i).getEntityAt(o-t)}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getCurrentContent(),r=e.getSelection(),i=r.getStartKey(),o=r.getStartOffset();return n.getBlockForKey(i).getEntityAt(o+t)}function D(e,t){var n=e.getCurrentContent().createEntity(t.entityType,t.mutability,t.data);return{entityKey:n.getLastCreatedEntityKey(),contentState:n,editorState:k.EditorState.set(e,{currentContent:n})}}var O=function(){function e(){var t=this;u()(this,e),this.fireQueue=new C,this.fireQueue.setGetInit(function(){return t.getEditorState()}),this.fireQueue.setCallBack(function(e){return t.applyChange(e)})}return s()(e,[{key:"getEditorState",value:function(){return console.error("\u8bf7\u786e\u8ba4\u662f\u5426\u8c03\u7528\u4e86\u63d2\u4ef6\u7684 init \u65b9\u6cd5"),!1}},{key:"applyChange",value:function(){return console.error("\u8bf7\u786e\u8ba4\u662f\u5426\u8c03\u7528\u4e86\u63d2\u4ef6\u7684 init \u65b9\u6cd5"),!1}},{key:"init",value:function(e,t){this.getEditorState=e,this.applyChange=t}},{key:"fire",value:function(e){this.fireQueue.add(e),this.fireQueue.fire()}}]),e}(),F=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).name="",e.nameSpace="",e.types=[],e}return d()(t,e),s()(t,[{key:"blockStyleFn",value:function(e){var t=e.getData().get(this.name)||"";return t?"".concat(this.nameSpace,"-").concat(t):""}},{key:"getKeys",value:function(e){var t=w(e).get(this.name);return(new Set).add(t)}},{key:"map",value:function(e){return this.types.map(e)}},{key:"toggle",value:function(e){var t=this;this.fire(function(n){var r=w(n),i=e;return r.get(t.name)===e&&(i=""),M(n,S()({},t.name,i))})}}]),t}(O),j=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).name="text-align",e.types=["align-left","align-center","align-right"],e.nameSpace="RichEditor-text",e}return d()(t,e),t}(F),R=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).name="block-float",e.types=["float-left","float-right"],e.nameSpace="RichEditor",e}return d()(t,e),t}(F),I=[{label:"Normal",key:"unstyled"},{label:"H1",key:"header-one"},{label:"H2",key:"header-two"},{label:"H3",key:"header-three"},{label:"H4",key:"header-four"},{label:"H5",key:"header-five"},{label:"H6",key:"header-six"},{label:"Blockquote",key:"blockquote"},{label:"UL",key:"unordered-list-item"},{label:"OL",key:"ordered-list-item"},{label:"Code Block",key:"code-block"}],N=function(e){function t(e){var n;return u()(this,t),(n=y()(this,g()(t).call(this))).blockTypes=e,n}return d()(t,e),s()(t,[{key:"getKeys",value:function(e){var t=T(e),n=I.filter(function(e){return e.key===t})[0],r=n?n.label:"";return-1===this.blockTypes.indexOf(r)&&(r=""),(new Set).add(r)}},{key:"blockStyleFn",value:function(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return""}}},{key:"map",value:function(e){return this.blockTypes.map(e)}},{key:"toggle",value:function(e){var t=I.filter(function(t){return t.label===e});1===t.length&&this.fire(function(e){return k.RichUtils.toggleBlockType(e,t[0].key)})}}]),t}(O),L=n(7),U=n.n(L),H=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).entityType="IFRAME",e.decorator={strategy:e.strategy.bind(U()(U()(e))),component:e.component.bind(U()(U()(e)))},e}return d()(t,e),s()(t,[{key:"keyBindingFn",value:function(e){8===e.keyCode&&this.fire(function(e){var t=e.getCurrentContent(),n=B(e,1);if(!n)return e;var r=t.getEntity(n);return r&&"IFRAME"===r.getType()?(t.replaceEntityData(n,{}),k.EditorState.set(e,{currentContent:t})):e})}},{key:"component",value:function(e){var t=e.entityKey,n=e.contentState.getEntity(t).getData();return n.src?v.a.createElement("span",{contentEditable:!1},"\xa0",v.a.createElement("span",{className:"RichEditor-iframe",style:{width:n.width}},v.a.createElement("iframe",{title:"test",src:n.src})),"\xa0"):null}},{key:"strategy",value:function(e,t,n){x(e,t,n,this.entityType)}},{key:"toggle",value:function(e){var t=this;this.fire(function(n){var r=D(n,{entityType:t.entityType,mutability:"IMMUTABLE",data:e}),i=r.entityKey,o=r.contentState,a=r.editorState;return o=k.Modifier.insertText(o,n.getSelection()," "),o=k.Modifier.insertText(o,n.getSelection(),"I","",i),o=k.Modifier.insertText(o,n.getSelection()," "),k.EditorState.push(a,o,"insert-characters")})}}]),t}(O),A=n(8),z=n.n(A),q=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u()(this,t),(e=y()(this,g()(t).call(this))).textList=n,e.entityType="Insert",e.entityKey="",e.decorator={strategy:e.strategy.bind(U()(U()(e))),component:e.component.bind(U()(U()(e)))},e}return d()(t,e),s()(t,[{key:"init",value:function(e,n){var r=this;z()(g()(t.prototype),"init",this).call(this,e,n),this.fire(function(e){var t=D(e,{entityType:r.entityType,mutability:"IMMUTABLE",data:{}}),n=t.entityKey,i=t.editorState;return r.entityKey=n,i})}},{key:"strategy",value:function(e,t,n){x(e,t,n,this.entityType)}},{key:"component",value:function(e){return v.a.createElement("span",{tag:"user-tag","data-offset-key":e.offsetKey},e.children)}},{key:"toggle",value:function(e){var t=this;this.fire(function(n){var r=n.getSelection(),i=n.getCurrentContent();return i=k.Modifier.insertText(i,r," "),i=k.Modifier.insertText(i,r,e,"",t.entityKey),i=k.Modifier.insertText(i,r," "),k.EditorState.push(n,i,"insert-characters")})}}]),t}(O),P=function(e){function t(){return u()(this,t),y()(this,g()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"toggle",value:function(){this.fire(function(e){return k.EditorState.redo(e)})}}]),t}(O),G=function(e){function t(){return u()(this,t),y()(this,g()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"toggle",value:function(){this.fire(function(e){return k.EditorState.undo(e)})}}]),t}(O),V=function e(){u()(this,e),this.mutability="MUTABLE",this.decorator={strategy:this.strategy.bind(this),component:this.component.bind(this)}},_={color:"rgba(98, 177, 254, 1.0)"},Q=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;return u()(this,t),(n=y()(this,g()(t).call(this))).regex=e,n.style=r,n}return d()(t,e),s()(t,[{key:"strategy",value:function(e,t){!function(e,t,n){for(var r,i,o=t.getText();null!==(r=e.exec(o));)n(i=r.index,i+r[0].length)}(this.regex,e,t)}},{key:"component",value:function(e){return v.a.createElement("span",{style:this.style,"data-offset-key":e.offsetKey},e.children)}}]),t}(V),J=function(e){function t(){var e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return u()(this,t),(e=y()(this,g()(t).call(this))).unique=n,e.customStyleMap={},e}return d()(t,e),s()(t,[{key:"getKeys",value:function(e){var t=this;return e.getCurrentInlineStyle().filter(function(e){return e in t.customStyleMap})}},{key:"toggle",value:function(e){var t=this;this.fire(function(n){var r=n.getSelection(),i=n.getCurrentContent();return t.unique&&(i=Object.keys(t.customStyleMap).reduce(function(e,t){return k.Modifier.removeInlineStyle(e,r,t)},i)),i=n.getCurrentInlineStyle().has(e)?k.Modifier.removeInlineStyle(i,r,e):k.Modifier.applyInlineStyle(i,r,e),k.EditorState.push(n,i,"change-inline-style")})}}]),t}(O),W=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).customStyleMap={},e}return d()(t,e),s()(t,[{key:"getKeys",value:function(){return z()(g()(t.prototype),"getKeys",this).call(this).map(function(e){return e.replace("fontFamily-","")})}},{key:"toggle",value:function(e){var n="fontFamily-".concat(e);this.customStyleMap[n]||(this.customStyleMap[n]={fontFamily:e}),z()(g()(t.prototype),"toggle",this).call(this,n)}}]),t}(J),$=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).customStyleMap={},e.customKey="fontSize",e}return d()(t,e),s()(t,[{key:"getKeys",value:function(e){return z()(g()(t.prototype),"getKeys",this).call(this,e).map(function(e){return e.replace("fontsize-","")})}},{key:"toggle",value:function(e){var n="fontsize-".concat(e);this.customStyleMap[n]||(this.customStyleMap[n]={fontSize:e}),z()(g()(t.prototype),"toggle",this).call(this,n)}}]),t}(J),X=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u()(this,t),(n=y()(this,g()(t).call(this,r))).customStyleMap=e,n}return d()(t,e),s()(t,[{key:"map",value:function(e){return Object.keys(this.customStyleMap).map(function(t){return e(t)})}}]),t}(J),Y=function(e){function t(){return u()(this,t),y()(this,g()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"toggle",value:function(){this.fire(function(e){var t=e.getCurrentInlineStyle(),n=e.getSelection(),r=e.getCurrentContent();return r=t.reduce(function(e,t){return k.Modifier.removeInlineStyle(e,n,t)},r),k.EditorState.push(e,r,"change-inline-style")})}}]),t}(O),Z=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).customStyleMap={},e}return d()(t,e),s()(t,[{key:"getKeys",value:function(e){return z()(g()(t.prototype),"getKeys",this).call(this,e).map(function(e){return e.replace("color-","")})}},{key:"toggle",value:function(e){var n="color-".concat(e);this.customStyleMap[n]||(this.customStyleMap[n]={color:e}),z()(g()(t.prototype),"toggle",this).call(this,n)}}]),t}(J),ee=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).customStyleMap={},e}return d()(t,e),s()(t,[{key:"getKeys",value:function(e){return z()(g()(t.prototype),"getKeys",this).call(this,e).map(function(e){return e.replace("BGColor-","")})}},{key:"toggle",value:function(e){var n="BGColor-".concat(e);this.customStyleMap[n]||(this.customStyleMap[n]={backgroundColor:e}),z()(g()(t.prototype),"toggle",this).call(this,n)}}]),t}(J),te=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).entityType="",e.mutability="MUTABLE",e.decorator={strategy:e.strategy.bind(U()(U()(e))),component:e.component.bind(U()(U()(e)))},e}return d()(t,e),s()(t,[{key:"component",value:function(){return v.a.createElement("span",null,"\u63d2\u4ef6\u5b9e\u4f8b\u9700\u8981 component \u65b9\u6cd5")}},{key:"strategy",value:function(e,t,n){x(e,t,n,this.entityType)}},{key:"getEntity",value:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=null;if(!t.isCollapsed()){var i=K(e);i&&(r=n.getEntity(i))}return r}},{key:"toggle",value:function(e){var t=this;this.fire(function(n){var r=D(n,{entityType:t.entityType,mutability:t.mutability,data:e}),i=r.entityKey,o=r.editorState;return k.RichUtils.toggleLink(o,o.getSelection(),i)})}}]),t}(O),ne=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).entityType="LINK",e}return d()(t,e),s()(t,[{key:"component",value:function(e){var t=e.contentState.getEntity(e.entityKey).getData().href;return v.a.createElement("a",{href:t,"data-offset-key":e.offsetKey},e.children)}}]),t}(te),re=function(e){function t(){return u()(this,t),y()(this,g()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"use",value:function(e){var t=this;return e({option:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},value:{key:"remove-tag",label:"remove-tag"},toggle:function(){return t.toggle()}})}},{key:"toggle",value:function(){this.fire(function(e){return k.RichUtils.toggleLink(e,e.getSelection(),null)})}}]),t}(O),ie=n(12),oe=n.n(ie),ae=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).entityType="",e.mutability="IMMUTABLE",e}return d()(t,e),s()(t,[{key:"blockRendererFn",value:function(e){var t=this;if("atomic"===e.getType()){var n=e.getEntityAt(0),r=this.getEditorState().getCurrentContent().getEntity(n);return this.entityType===r.getType()?{component:function(e){return v.a.createElement(t.component,oe()({data:r.getData()},e))},editable:"MUTABLE"===this.mutability}:void 0}}},{key:"blockStyleFn",value:function(e){return"atomic"!==e.getType()?"":"RichEditor-media"}},{key:"component",value:function(){return v.a.createElement("span",null,"\u63d2\u4ef6\u5b9e\u4f8b\u9700\u8981 component \u65b9\u6cd5")}},{key:"toggle",value:function(e){var t=this;this.fire(function(n){var r=D(n,{entityType:t.entityType,mutability:t.mutability,data:e}),i=r.entityKey,o=r.editorState;return k.AtomicBlockUtils.insertAtomicBlock(o,i," ")})}}]),t}(O),ce=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).entityType="image",e}return d()(t,e),s()(t,[{key:"component",value:function(e){return v.a.createElement("div",{className:"RichEditor-float-wrap"},v.a.createElement("img",{className:"RichEditor-img",src:e.data.src,style:{whiteSpace:"initial"}}))}}]),t}(ae),ue=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).entityType="audio",e}return d()(t,e),s()(t,[{key:"component",value:function(e){return v.a.createElement("audio",{controls:!0,src:e.data.src,style:{width:"100%",whiteSpace:"initial"}})}}]),t}(ae),le=function(e){function t(){var e;return u()(this,t),(e=y()(this,g()(t).call(this))).entityType="video",e}return d()(t,e),s()(t,[{key:"component",value:function(e){return v.a.createElement("audio",{controls:!0,src:e.data.src,style:{width:"100%",whiteSpace:"initial"}})}}]),t}(ae);n.d(t,"AlignStyle",function(){return j}),n.d(t,"FloatStyle",function(){return R}),n.d(t,"BaseBlock",function(){return N}),n.d(t,"InsertIframe",function(){return H}),n.d(t,"InsertText",function(){return q}),n.d(t,"Redo",function(){return P}),n.d(t,"Undo",function(){return G}),n.d(t,"BaseDecorator",function(){return V}),n.d(t,"Regex",function(){return Q}),n.d(t,"BaseStyle",function(){return J}),n.d(t,"FontFamily",function(){return W}),n.d(t,"FontSize",function(){return $}),n.d(t,"NormalStyle",function(){return X}),n.d(t,"RemoveStyle",function(){return Y}),n.d(t,"TextColor",function(){return Z}),n.d(t,"BGColor",function(){return ee}),n.d(t,"BaseTag",function(){return te}),n.d(t,"Link",function(){return ne}),n.d(t,"RemoveTag",function(){return re}),n.d(t,"BaseMedia",function(){return ae}),n.d(t,"Image",function(){return ce}),n.d(t,"Audio",function(){return ue}),n.d(t,"Video",function(){return le}),n.d(t,"FireQueue",function(){return C}),n.d(t,"getBlockData",function(){return w}),n.d(t,"setBlockData",function(){return M}),n.d(t,"getBlockType",function(){return T}),n.d(t,"findEntityRange",function(){return x}),n.d(t,"getEndEntityKey",function(){return B}),n.d(t,"getStartEntityKey",function(){return K}),n.d(t,"createNewEntity",function(){return D}),n.d(t,"b",function(){return 1}),t.default=b}])},273:function(e,t,n){e.exports=n(638)},634:function(e,t,n){},636:function(e,t,n){},638:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(7),a=n.n(o),c=n(50),u=n(51),l=n(53),s=n(52),f=n(54),y=n(257),h=n(19),g=n.n(h),p=n(96),d=n(645),m=n(642),v=n(644),k=n(639),b=n(49),E=n(641),S=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).handleVisibleChange=function(t){e.setState({visible:t})},e.link=i.a.createRef(),e.state={href:"",visible:!1},e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"change",value:function(e){this.setState({href:e.target.value})}},{key:"confirm",value:function(e){e.preventDefault();var t=this.props,n=t.toggle,r=t.focus;n({href:this.state.href}),this.setState({href:"",visible:!1}),setTimeout(function(){r()})}},{key:"unset",value:function(e){e.preventDefault(),this.setState({href:"",visible:!1})}},{key:"toggle",value:function(e){e.preventDefault();var t=(0,this.props.getEntity)();t&&"LINK"===t.type&&this.setState({href:t.getData().href})}},{key:"render",value:function(){var e=this,t=this.props.getEntity,n=this.state,r=n.href,o=n.visible,a=t(),c=!1;a&&"LINK"===a.type&&(c=!0);var u=i.a.createElement("span",null,"\u94fe\u63a5\u5730\u5740"),l=i.a.createElement("div",null,i.a.createElement("input",{type:"text",className:"input",value:r,onChange:function(t){return e.change(t)}}),i.a.createElement("div",{className:"pop-footer"},i.a.createElement(k.a,{size:"small",type:"primary",onMouseDown:function(t){return e.confirm(t)}},"\u786e\u8ba4"),i.a.createElement(k.a,{size:"small",onMouseDown:function(t){return e.unset(t)}},"\u53d6\u6d88")));return i.a.createElement(E.a,{placement:"bottomLeft",title:u,content:l,trigger:"click",visible:o,onVisibleChange:this.handleVisibleChange},i.a.createElement(k.a,{className:c?"active":"",onMouseDown:function(t){e.toggle(t)}},i.a.createElement(b.a,{type:"link"})))}}]),t}(r.Component);function C(e){switch(e){case"bold":return"bold";case"lineThrough":return"strikethrough";case"underLine":return"underline";case"italic":return"italic";case"top":return"up";case"bottom":return"down";default:return""}}function w(e){switch(e){case"UL":return"bars";case"OL":return"ordered-list";case"align-left":return"align-left";case"align-center":return"align-center";case"align-right":return"align-right";case"align-justify":return"icon-735bianjiqi_liangduanduiqi";case"float-left":return"pic-left";case"float-right":return"pic-right";default:return""}}function M(e){switch(e){case"Normal":return"\u666e\u901a\u6587\u672c";case"H1":return"\u6807\u9898\u4e00";case"H2":return"\u6807\u9898\u4e8c";case"H3":return"\u6807\u9898\u4e09";case"H4":return"\u6807\u9898\u56db";case"H5":return"\u6807\u9898\u4e94";case"H6":return"\u6807\u9898\u516d";case"Blockquote":return"\u5f15\u7528";case"Code Block":return"\u4ee3\u7801\u5757";default:return""}}i.a.Component;function T(e){var t=e.icon,n=e.active,r=e.action;return i.a.createElement(k.a,{className:n?"active":"",onMouseDown:function(e){e.preventDefault(),r()}},i.a.createElement(b.a,{type:t}))}var x=n(264),B=n(166),K=n.n(B),D=(n(536),n(538),[{color:"#666666",alpha:100},{color:"#999999",alpha:100},{color:"#cccccc",alpha:100}]),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).color={color:"#ffffff",alpha:100},e.state={visible:!1,selectedColors:[]},e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t=this.props.name;t&&(e=JSON.parse(localStorage.getItem("CPBTN-".concat(t)))),e&&!e.length&&(e=D),this.setState({selectedColors:e})}},{key:"componentWillUnmount",value:function(){var e=this.props.name,t=this.state.selectedColors;e&&localStorage.setItem("CPBTN-".concat(e),JSON.stringify(t))}},{key:"handleVisibleChange",value:function(e){this.setState({visible:e})}},{key:"changeHandler",value:function(e){this.color=e}},{key:"confirm",value:function(e){e.preventDefault(),this.changeColor(this.color);var t=this.state.selectedColors;t.unshift(this.color),t.pop(),this.setState({selectedColors:t})}},{key:"changeColor",value:function(e){(0,this.props.toggle)(K()(e.color,e.alpha/100)),this.setState({visible:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.visible,r=t.selectedColors,o=t.title,a=this.props,c=a.getKeys,u=a.icon,l=Object(p.a)(c()),s=i.a.createElement("span",null,o),f=i.a.createElement("div",{className:"color-picker",onMouseDown:function(e){e.preventDefault()}},i.a.createElement("div",{className:"color-selected"},r.map(function(t,n){return i.a.createElement("span",{key:"".concat(t.color," ").concat(n),style:{background:K()(t.color,t.alpha/100)},onMouseDown:function(){e.changeColor(t)}})}),i.a.createElement("span",{style:{background:"#fff"},onMouseDown:function(){e.changeColor({color:"#ffffff",alpha:100})}}),i.a.createElement("span",{style:{background:"#000"},onMouseDown:function(){e.changeColor({color:"#000000",alpha:100})}})),i.a.createElement(x.Panel,{enableAlpha:!1,defaultColor:"#ffffff",onChange:function(t){return e.changeHandler(t)},mode:"RGB"}),i.a.createElement("div",{className:"pop-footer"},i.a.createElement(k.a,{size:"small",type:"primary",onMouseDown:function(t){return e.confirm(t)}},"\u786e\u8ba4"),i.a.createElement(k.a,{size:"small",onMouseDown:function(t){return e.unset(t)}},"\u53d6\u6d88")));return i.a.createElement(E.a,{placement:"bottomLeft",title:s,content:f,trigger:"click",visible:n,onVisibleChange:function(t){return e.handleVisibleChange(t)}},i.a.createElement(k.a,{onMouseDown:function(e){e.preventDefault()}},i.a.createElement(b.a,{type:u,style:{filter:"drop-shadow(0 0 1px rgba(0, 0, 0, 0.65))",color:l[0]}})))}}]),t}(r.Component);n(646),n(643);var F=function(e){var t=e.plugin,n=e.editorState,r=e.focus,o=Object(p.a)(t.baseBlock.getKeys(n)),a=0===o.length?"\u666e\u901a\u6587\u672c":M(o[0]),c=i.a.createElement(d.a,{selectedKeys:o},t.baseBlock.map(function(e){return i.a.createElement(d.a.Item,{key:e,value:e,onMouseDown:function(n){n.preventDefault(),t.baseBlock.toggle(e)}},M(e))})),u=Object(p.a)(t.fontSize.getKeys(n)),l=0===u.length?"16":u[0],s=i.a.createElement(d.a,{selectedKeys:0===u.length?["16"]:u},[12,14,16,20,22,24,26].map(function(e){return i.a.createElement(d.a.Item,{key:e,value:e,onMouseDown:function(n){n.preventDefault(),t.fontSize.toggle(e)}},"".concat(e,"px"))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"toolbar"},i.a.createElement(T,{icon:"undo",action:function(){t.undoPlugin.toggle()}}),i.a.createElement(T,{icon:"redo",action:function(){t.redoPlugin.toggle()}}),i.a.createElement(m.a,{type:"vertical"}),i.a.createElement(v.a,{overlay:s,onMouseDown:function(e){e.preventDefault()}},i.a.createElement(k.a,null,"".concat(l||16,"px")," ",i.a.createElement(b.a,{type:"down"}))),i.a.createElement(m.a,{type:"vertical"}),i.a.createElement(S,{focus:r,toggle:function(e){return t.link.toggle(e)},getEntity:function(){return t.link.getEntity(n)}}),i.a.createElement(T,{icon:"disconnect",action:function(){t.removeTag.toggle()}}),i.a.createElement(m.a,{type:"vertical"}),i.a.createElement(v.a,{overlay:c,onMouseDown:function(e){e.preventDefault()}},i.a.createElement(k.a,null,a||"\u666e\u901a\u6587\u672c"," ",i.a.createElement(b.a,{type:"down"}))),i.a.createElement(m.a,{type:"vertical"}),i.a.createElement(T,{icon:"delete",action:function(){t.removeStyle.toggle()}})),i.a.createElement("div",{className:"toolbar"},t.textUnUnipue.map(function(e){var r=t.textUnUnipue.getKeys(n);return i.a.createElement(T,{key:e,icon:C(e),active:r.has(e),action:function(){t.textUnUnipue.toggle(e)}})}),i.a.createElement(m.a,{type:"vertical"}),t.textUnipue.map(function(e){var r=t.textUnipue.getKeys(n);return i.a.createElement(T,{key:e,icon:C(e),active:r.has(e),action:function(){t.textUnipue.toggle(e)}})}),i.a.createElement(m.a,{type:"vertical"}),i.a.createElement(O,{name:"color",icon:"font-colors",title:"\u8bf7\u9009\u62e9\u6587\u5b57\u989c\u8272",toggle:function(e){return t.textColor.toggle(e)},getKeys:function(){return t.textColor.getKeys(n)}}),i.a.createElement(O,{name:"backgroundColor",icon:"bg-colors",title:"\u8bf7\u9009\u62e9\u6587\u5b57\u80cc\u666f\u989c\u8272",toggle:function(e){return t.bGColor.toggle(e)},getKeys:function(){return t.bGColor.getKeys(n)}}),i.a.createElement(m.a,{type:"vertical"}),t.alignStyle.map(function(e){var r=t.alignStyle.getKeys(n);return i.a.createElement(T,{key:e,icon:w(e),active:r.has(e),action:function(){t.alignStyle.toggle(e)}})}),i.a.createElement(m.a,{type:"vertical"}),t.baseBlockList.map(function(e){var r=t.baseBlockList.getKeys(n);return i.a.createElement(T,{key:e,icon:w(e),active:r.has(e),action:function(){t.baseBlockList.toggle(e)}})})))},j=(n(634),n(636),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).editor=i.a.createRef(),e.state={editorState:y.EditorState.createEmpty()},e.plugin={textUnUnipue:new h.NormalStyle({bold:{fontWeight:"bold"},lineThrough:{textDecoration:"line-through"},underLine:{textDecoration:"underline"},italic:{fontStyle:"italic"}}),textUnipue:new h.NormalStyle({top:{position:"relative",top:"-8px",display:"inline-flex",fontSize:"12px"},bottom:{position:"relative",bottom:"-8px",display:"inline-flex",fontSize:"12px"}},!0),baseBlockList:new h.BaseBlock(["UL","OL"]),alignStyle:new h.AlignStyle,link:new h.Link,removeTag:new h.RemoveTag,image:new h.Image,baseBlock:new h.BaseBlock(["Normal","H1","H2","H3","H4","Blockquote","Code Block"]),fontSize:new h.FontSize,removeStyle:new h.RemoveStyle,undoPlugin:new h.Undo,redoPlugin:new h.Redo,textColor:new h.TextColor,bGColor:new h.BGColor},e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"onChange",value:function(e){this.setState(function(){return{editorState:e}})}},{key:"render",value:function(){var e=this,t=this.plugin,n=this.state.editorState;return i.a.createElement("div",{className:"App editor-contain"},i.a.createElement("div",{className:"toolbar-wrap"},i.a.createElement(F,{plugin:t,editorState:n,focus:function(){e.editor.current.focus()}})),i.a.createElement("div",{className:"editor-wrap"},i.a.createElement(g.a,{plugin:t,editorState:n,onChange:function(t){return e.onChange(t)},placeholder:"\u4ece\u8fd9\u91cc\u5f00\u59cb\u5199\u6b63\u6587",ref:this.editor})))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[273,2,1]]]);
//# sourceMappingURL=main.040dd5a4.chunk.js.map